{"version":3,"sources":["firebase.js","Context/AuthProvider.js","Components/SignupCard.js","Components/Signup.js","Components/LoginCard.js","Components/Login.js","Material-UI/Navbar.js","Material-UI/Comments.js","Material-UI/Likes.js","Material-UI/Cards.js","Material-UI/UploadFile.js","Material-UI/Posts.js","Material-UI/Main.js","Components/PrivateRoute.js","App.js","index.js","Components/Login.module.css","Material-UI/Cards.module.css"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","firestore","database","users","collection","posts","comments","getCurrentTimeStamp","FieldValue","serverTimestamp","storage","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","unsubscribe","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","Provider","useStyles","makeStyles","root","minWidth","width","position","top","left","padding","bullet","display","margin","transform","title","fontSize","pos","marginBottom","field","marginLeft","marginTop","btn","logo","fileUpload","SignupCard","name","file","classes","Card","className","variant","CardContent","src","TextField","id","label","onChange","e","target","type","Button","color","component","accept","hidden","CardActions","onClick","slideIdx","Signup","setEmail","setPassword","setName","setError","setFile","setTimer","history","useHistory","useContext","handleSignup","a","preventDefault","fn1","snapshot","progress","bytesTransferred","totalBytes","console","log","fn2","error","setTimeout","fn3","uploadTaskListener","ref","getDownloadURL","downloadUrl","doc","uid","set","userId","username","createdAt","profileUrl","postIds","push","res","put","on","carousel","slides","document","getElementsByClassName","i","length","style","classList","remove","enlighten","add","timeout","setInterval","clearInterval","height","borderRadius","boxShadow","files","loginBtn","signUpBtn","errorMsg","LoginCard","Login","handleLogin","theme","flexGrow","menuButton","marginRight","spacing","appb","backgroundColor","icon","Navbar","userData","anchorEl","setAnchorEl","open","Boolean","handleClose","AppBar","Toolbar","IconButton","event","currentTarget","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","box","textField","commentDiv","alignItems","avatar","likeCount","fontWeight","Comments","postData","text","setText","setComments","arr","cid","get","data","commentsSection","CircularProgress","map","comment","index","Avatar","uUrl","uName","likes","fullWidth","obj","then","docRef","postId","update","catch","disabled","Likes","like","setLike","check","includes","handleLike","uArr","filter","el","opacity","zIndex","media","bottom","actionLabel","right","dialog","dialogContainer","commentIcon","Cards","source","post","currentUserName","currentUserAvatar","openId","setOpenId","vidRef","useRef","CardActionArea","onEnded","next","parentElement","nextSibling","scrollIntoView","behavior","muted","vs","borderBottom","size","pId","current","pause","Dialog","play","vsDialog","autoPlay","loop","pUrl","UploadFile","props","types","startIcon","indexOf","uuidv4","uploadTask","url","uProfile","htmlFor","LinearProgress","loader","Posts","setPosts","setCurrentUserName","setCurrentUserAvatar","observer","IntersectionObserver","entries","forEach","element","isIntersecting","threshold","parr","unsub","orderBy","onSnapshot","querySnapshot","querySelectorAll","observe","disconnect","Fragment","Main","setUserData","PrivateRoute","Component","rest","render","to","App","exact","path","ReactDOM","getElementById","module","exports"],"mappings":"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","file":"static/js/main.8c156be2.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\nimport 'firebase/firestore';\r\n\r\n// firebase initialized\r\nfirebase.initializeApp(\r\n    {\r\n        apiKey: \"AIzaSyA5YL4WG3KTdCgPB9GYyU47DyEH8qcaU3Q\",\r\n        authDomain: \"reels-37681.firebaseapp.com\",\r\n        projectId: \"reels-37681\",\r\n        storageBucket: \"reels-37681.appspot.com\",\r\n        messagingSenderId: \"442429481994\",\r\n        appId: \"1:442429481994:web:86426912b2f4320c3fabf3\"\r\n    }\r\n);\r\n\r\n// auth variable for authentication\r\nexport const auth = firebase.auth();\r\n\r\n// firestore variable for firestore\r\nconst firestore = firebase.firestore();\r\n\r\n// restricting access to firestore\r\nexport const database = {\r\n    users: firestore.collection('users'),\r\n    posts: firestore.collection('posts'),\r\n    comments:firestore.collection('comments'),\r\n    getCurrentTimeStamp: firebase.firestore.FieldValue.serverTimestamp,\r\n}\r\n\r\nexport const storage = firebase.storage();\r\n\r\n// export default firebase;","import React, {useState, useContext, useEffect} from 'react';\r\nimport { auth } from '../firebase';\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nfunction AuthProvider({children}) {\r\n    const [currentUser, setCurrentUser] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n    \r\n    function signup(email, password) \r\n    {\r\n        return auth.createUserWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    function login(email, password)\r\n    {\r\n        return auth.signInWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    function logout()\r\n    {\r\n        return auth.signOut();\r\n    }\r\n\r\n    useEffect(() => {\r\n        // add observer; observer is like event listener\r\n        // ComponentDidMount\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setCurrentUser(user);\r\n            setLoading(false);\r\n        });\r\n\r\n        // remove observer\r\n        // ComponentWillUnmount\r\n        return () => {\r\n            unsubscribe();\r\n        }\r\n    }, []);\r\n\r\n    const value = {\r\n        currentUser,\r\n        login, \r\n        signup, \r\n        logout\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport default AuthProvider;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n    width: 310,\r\n    position: 'absolute',\r\n    top: '6.2rem',\r\n    left: '47rem',\r\n    padding: '9px',\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  field: {\r\n      marginLeft: '2.5rem',\r\n      marginTop: '0.5rem',\r\n  },\r\n  btn: {\r\n      marginLeft: '5.7rem',\r\n      marginTop: '2rem',\r\n  },\r\n  logo: {\r\n      marginLeft: '4.9rem',\r\n      marginBottom: '0.5rem',\r\n  },\r\n  fileUpload: {\r\n      marginLeft: '3.5rem',\r\n      marginTop: '1.5rem',\r\n  }\r\n});\r\n\r\nexport default function SignupCard({ name, email, password, file, signup }) {\r\n\r\n  const classes = useStyles();\r\n  const bull = <span className={classes.bullet}>•</span>;\r\n\r\n  return (\r\n    <Card className={classes.root} variant=\"outlined\">\r\n      <CardContent>\r\n        <img className={classes.logo} src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" />\r\n        \r\n        <TextField className={classes.field} id=\"standard-basic\" label=\"Username\" onChange={(e) => name(e.target.value)}/>\r\n        <TextField className={classes.field} id=\"standard-basic\" label=\"Email\" onChange={(e) => email(e.target.value)}/>\r\n        <TextField className={classes.field} id=\"standard-basic\" label=\"Password\" type=\"password\" onChange={(e) => password(e.target.value)}/>\r\n        \r\n        <Button className={classes.fileUpload} variant=\"contained\" color=\"secondary\" component=\"label\" >\r\n        Profile Photo\r\n        <input type=\"file\" accept=\"image/*\" hidden onChange={file} />\r\n        </Button>\r\n\r\n      </CardContent>\r\n      <CardActions>\r\n        <Button className={classes.btn} variant=\"outlined\" color=\"primary\" onClick={signup}>Sign Up</Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n\r\n","import React, {useState, useEffect, useContext} from 'react';\r\nimport { AuthContext } from '../Context/AuthProvider';\r\nimport { storage, database } from '../firebase';\r\nimport SignupCard from './SignupCard';\r\nimport style from './Login.module.css';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nlet slideIdx = 0;\r\n\r\nfunction Signup() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [file, setFile] = useState(null);\r\n    const [timer, setTimer] = useState(null);\r\n    const history = useHistory();\r\n\r\n    const { signup } = useContext(AuthContext);\r\n\r\n    const handleSignup = async (e) => {\r\n        e.preventDefault(); // disable reloading of page upon submitting form\r\n\r\n        try\r\n        {\r\n            setLoading(true);\r\n            let res = await signup(email, password);\r\n            let uid = res.user.uid;\r\n\r\n            const uploadTaskListener = storage.ref(`/users/${uid}/profileImage`).put(file);\r\n\r\n            // fn1 -> progress tracking, 'state_changed' observer, called any time stae changes\r\n            // fn2 -> error, Error observer, called on failure\r\n            // fn3 -> success, Completion observer, called on successful completion\r\n            \r\n            uploadTaskListener.on('state_changed', fn1, fn2, fn3);\r\n\r\n            function fn1(snapshot) {\r\n                var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                console.log('Upload is ' + progress + '% done');\r\n            }\r\n\r\n            function fn2(error) {\r\n                setError(error);\r\n                setTimeout(() => {\r\n                    setError('');\r\n                }, 2000);\r\n                setLoading(false);\r\n            }\r\n\r\n            async function fn3() {\r\n                let downloadUrl = await uploadTaskListener.snapshot.ref.getDownloadURL();\r\n                console.log(downloadUrl);\r\n                await database.users.doc(uid).set({ // this is async work\r\n                    email: email,\r\n                    userId: uid,\r\n                    username: name,\r\n                    createdAt: database.getCurrentTimeStamp(),\r\n                    profileUrl: downloadUrl,\r\n                    postIds: [],\r\n                });\r\n\r\n                history.push('/');\r\n            }\r\n\r\n            setLoading(false);\r\n        }\r\n        catch(err)\r\n        {\r\n            setError(err);\r\n            setTimeout(() => setError(''), 2000);\r\n            setLoading(false);\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    const handleFileSubmit = (e) => {\r\n        let file = e.target.files[0];\r\n\r\n        console.log(file);\r\n\r\n        if(file != null)\r\n        {\r\n            setFile(file);\r\n        }\r\n    }\r\n\r\n    const carousel = () => {\r\n        let slides = document.getElementsByClassName('mySlides');\r\n\r\n        for(let i = 0; i < slides.length; i++)\r\n        {\r\n            slides[i].style.display = 'none';\r\n            slides[i].classList.remove(style.enlighten);\r\n        }\r\n\r\n        slides[slideIdx].style.display = 'block'; // make it visible\r\n        slides[slideIdx].classList.add(style.enlighten);\r\n\r\n        slideIdx++;\r\n\r\n        if(slideIdx == slides.length) slideIdx = 0; // set back to first element\r\n    }\r\n\r\n    useEffect(() => {\r\n        // good practice\r\n        let timeout = setInterval(carousel, 4000); // re-run function after every 4secs\r\n        setTimer(timeout);\r\n\r\n        return () => {\r\n            clearInterval(timeout);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <img style={{marginLeft: '20rem', marginTop: '5rem', height: '70vh'}} src=\"https://static.wixstatic.com/media/5e9072_d5f413e750dc4d84a1c8650a354ced41~mv2.png/v1/fill/w_314,h_634,al_c,q_85,usm_0.66_1.00_0.01/googlepixel4%20(1).webp\" />\r\n            <img className=\"mySlides\" style={{position: 'absolute', left: '18.5rem', top: '9rem', height: '60vh', borderRadius: '30px', boxShadow: '0px 3px 5px #333'}} src=\"https://www.instagram.com/static/images/homepage/screenshot5.jpg/0a2d3016f375.jpg\" />\r\n            <img className=\"mySlides\" style={{position: 'absolute', left: '18.5rem', top: '9rem', height: '60vh', borderRadius: '30px', boxShadow: '0px 3px 5px #333'}} src=\"https://www.instagram.com/static/images/homepage/screenshot4.jpg/842fe5699220.jpg\" />\r\n            <img className=\"mySlides\" style={{position: 'absolute', left: '18.5rem', top: '9rem', height: '60vh', borderRadius: '30px', boxShadow: '0px 3px 5px #333'}} src=\"https://www.instagram.com/static/images/homepage/screenshot1.jpg/d6bf0c928b5a.jpg\" />\r\n            <SignupCard name={setName} email={setEmail} password={setPassword} file={handleFileSubmit} signup={handleSignup} /> \r\n        </>\r\n    );\r\n}\r\n\r\nexport default Signup;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n    width: 310,\r\n    position: 'absolute',\r\n    top: '6.2rem',\r\n    left: '47rem',\r\n    padding: '9px',\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  field: {\r\n      marginLeft: '2.5rem',\r\n      marginTop: '0.5rem',\r\n  },\r\n  loginBtn: {\r\n      marginLeft: '3.4rem',\r\n      marginTop: '2rem',\r\n  },\r\n  signUpBtn: {\r\n    marginLeft: '8.5rem',\r\n    marginTop: '2rem',\r\n  },\r\n  logo: {\r\n      marginLeft: '4.9rem',\r\n      marginBottom: '0.5rem',\r\n  },\r\n  fileUpload: {\r\n      marginLeft: '3.5rem',\r\n      marginTop: '1.5rem',\r\n  },\r\n  errorMsg: {\r\n    fontSize: '10.5px',\r\n    color: 'red',\r\n    marginLeft: '6.90rem',\r\n    marginTop: '0.5rem',\r\n    width: '4.5rem',\r\n    height: '0.5rem',\r\n  }\r\n});\r\n\r\nexport default function LoginCard({ email, password, login, error }) {\r\n\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <Card className={classes.root} variant=\"outlined\">\r\n      <CardContent>\r\n        <img className={classes.logo} src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" />\r\n        \r\n        <TextField className={classes.field} id=\"standard-basic\" label=\"Email\" onChange={(e) => email(e.target.value)}/>\r\n        <TextField className={classes.field} id=\"standard-basic\" label=\"Password\" type=\"password\" onChange={(e) => password(e.target.value)}/>\r\n\r\n      </CardContent>\r\n        { error ? <div className={classes.errorMsg}>{error}</div> : <><div className={classes.errorMsg}></div></> }\r\n      <CardActions>\r\n        <Button className={classes.loginBtn} variant=\"outlined\" color=\"primary\" onClick={login}>Login</Button>\r\n        <Button className={classes.signUpBtn} variant=\"contained\" color=\"secondary\" onClick={() => history.push('/signup')}>Sign Up</Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n\r\n","import React, {useState, useEffect, useContext} from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AuthContext } from '../Context/AuthProvider';\r\nimport { storage, database } from '../firebase';\r\nimport LoginCard from './LoginCard';\r\nimport style from './Login.module.css';\r\n\r\nlet slideIdx = 0;\r\n\r\nfunction Login() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [timer, setTimer] = useState(null);\r\n    \r\n    const history = useHistory();\r\n    const { login, currentUser } = useContext(AuthContext);\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            console.log('Logging in user');\r\n            setLoading(true);\r\n            await login(email, password);\r\n            setLoading(false);\r\n            history.push('/');\r\n        }\r\n        catch {\r\n            setError('Failed to login!'); // state changed, causes a re-render\r\n            setTimeout(() => setError(''), 2000);\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    const carousel = () => {\r\n        let slides = document.getElementsByClassName('mySlides');\r\n\r\n        for(let i = 0; i < slides.length; i++)\r\n        {\r\n            slides[i].style.display = 'none';\r\n            slides[i].classList.remove(style.enlighten);\r\n        }\r\n\r\n        slides[slideIdx].style.display = 'block'; // make it visible\r\n        slides[slideIdx].classList.add(style.enlighten);\r\n\r\n        slideIdx++;\r\n\r\n        if(slideIdx == slides.length) slideIdx = 0; // set back to first element\r\n    }\r\n\r\n    useEffect(() => {\r\n        let timeout;\r\n        if(currentUser)\r\n        {\r\n            history.push('/');\r\n        }\r\n        else\r\n        {\r\n            // good practice\r\n            timeout = setInterval(carousel, 4000); // re-run function after every 4secs\r\n            setTimer(timeout);\r\n        }\r\n\r\n        return () => {\r\n            clearInterval(timeout);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <img style={{marginLeft: '20rem', marginTop: '5rem', height: '70vh'}} src=\"https://static.wixstatic.com/media/5e9072_d5f413e750dc4d84a1c8650a354ced41~mv2.png/v1/fill/w_314,h_634,al_c,q_85,usm_0.66_1.00_0.01/googlepixel4%20(1).webp\" />\r\n            \r\n            <img className=\"mySlides\" style={{position: 'absolute', left: '18.5rem', top: '9rem', height: '60vh', borderRadius: '30px', boxShadow: '0px 3px 5px #333'}} src=\"https://www.instagram.com/static/images/homepage/screenshot5.jpg/0a2d3016f375.jpg\" />\r\n            <img className=\"mySlides\" style={{position: 'absolute', left: '18.5rem', top: '9rem', height: '60vh', borderRadius: '30px', boxShadow: '0px 3px 5px #333'}} src=\"https://www.instagram.com/static/images/homepage/screenshot4.jpg/842fe5699220.jpg\" />\r\n            <img className=\"mySlides\" style={{position: 'absolute', left: '18.5rem', top: '9rem', height: '60vh', borderRadius: '30px', boxShadow: '0px 3px 5px #333'}} src=\"https://www.instagram.com/static/images/homepage/screenshot1.jpg/d6bf0c928b5a.jpg\" />\r\n\r\n            <LoginCard email={setEmail} password={setPassword} login={handleLogin} error={error}/> \r\n        </>\r\n    );\r\n}\r\n\r\nexport default Login;","import React, { useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { AuthContext } from '../Context/AuthProvider';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    marginRight: '84vw'\r\n  },\r\n  appb: {\r\n      backgroundColor: 'white',\r\n  },\r\n  icon: {\r\n      width: '35px',\r\n      height: '35px',\r\n      borderRadius: '50%',\r\n  }\r\n}));\r\n\r\nexport default function Navbar({ userData }) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const { logout } = useContext(AuthContext);\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    history.push('/login');\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar className={classes.appb} position=\"fixed\">\r\n        <Toolbar>\r\n          <img className={classes.title} src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" />\r\n          {(\r\n            <div>\r\n              <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n              >\r\n                {/* <AccountCircle className={classes.icon}  /> */}\r\n                <img className={classes.icon} src={userData.profileUrl} />\r\n              </IconButton>\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n                <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { database } from '../firebase';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { Avatar } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        \r\n    },\r\n    box: {\r\n        height: '73vh',\r\n        width: '60vw',\r\n        padding: '12px',    \r\n    },\r\n    textField: {\r\n        position: 'absolute',\r\n        top: '24rem',\r\n        left: '18rem',\r\n        width: '35%',\r\n    },\r\n    btn: {\r\n        position: 'absolute',\r\n        top: '25rem',\r\n        left: '32rem',\r\n    },\r\n    progress: {\r\n        marginLeft: '8rem',\r\n        marginTop: '2rem',\r\n    },\r\n    commentDiv: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        width: '25px',\r\n        height: '25px',\r\n    },\r\n    likeCount: {\r\n        position: 'absolute',\r\n        top: '23rem',\r\n        left: '18rem',\r\n        fontSize: '15px',\r\n        fontWeight: '500',\r\n    }\r\n});\r\n\r\nfunction Comments({ postData, name, avatar }) {\r\n    const classes = useStyles();\r\n    const [text, setText] = useState('');\r\n    const [comments, setComments] = useState(null);\r\n\r\n    const manageText = (e) => {\r\n        let comment = e.target.value;\r\n        setText(comment);\r\n    }\r\n\r\n    const handleOnEnter = () => {\r\n        let obj = {\r\n            text: text,\r\n            uName: name,\r\n            uUrl: avatar,\r\n        }\r\n\r\n        // Add comment to comments collection and add it to comments array in posts collection\r\n        database.comments.add(obj).then(docRef => {\r\n            database.posts.doc(postData.postId).update({\r\n                comments:[...postData.comments, docRef.id]\r\n            });\r\n        })\r\n        .catch(e => {\r\n            console.log(e);\r\n        })\r\n\r\n        setText('');\r\n    }\r\n    \r\n    useEffect(async () => {\r\n        let arr = []; // populate this array\r\n        for(let i=0; i<postData.comments.length; i++)\r\n        {\r\n            let cid = postData.comments[i];\r\n            let data = await database.comments.doc(cid).get();\r\n            arr.push(data.data());\r\n        }\r\n\r\n        setComments(arr);\r\n    }, [postData]);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n            <div className={classes.commentsSection}>\r\n                {\r\n                    comments == null ? <CircularProgress className={classes.progress} /> :\r\n                    comments.map((comment, index) => (\r\n                        comment ? \r\n                            <div key={index} className={classes.commentDiv}>\r\n                                <Avatar className={classes.avatar} src={comment.uUrl} />\r\n                                <p style={{fontSize: '12px', marginLeft: '3%'}}><span style={{fontWeight:'bold'}}>{comment.uName}</span>&nbsp;&nbsp;{comment.text}</p>\r\n                            </div> : <></>\r\n                    ))\r\n                }\r\n            </div>\r\n            <div className={classes.likeCount}>\r\n                Liked by {postData.likes.length}\r\n            </div>\r\n            <TextField fullWidth={true} label='Leave a comment' onChange={manageText} className={classes.textField} />\r\n            <Button onClick={handleOnEnter} disabled={text==''?true:false} className ={classes.btn} color='primary'>Post</Button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Comments;\r\n","import React, {useEffect, useState, useContext} from 'react';\r\nimport {database} from '../firebase';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport { AuthContext } from '../Context/AuthProvider';\r\n\r\nfunction Likes({ postData }) {\r\n    const [like, setLike] = useState(null);\r\n    const { currentUser } = useContext(AuthContext); \r\n\r\n    useEffect(() => {\r\n        let check = postData.likes.includes(currentUser?.uid) ? true : false;\r\n        setLike(check);\r\n    }, [postData]);\r\n\r\n    const handleLike = async () => {\r\n        if(like == true)\r\n        {\r\n            // unlike, spread not required when using filter\r\n            let uArr = postData.likes.filter(el => {\r\n                return el != currentUser.uid;\r\n            });\r\n            \r\n            await database.posts.doc(postData.postId).update({\r\n                likes: uArr,\r\n            });\r\n        }\r\n        else\r\n        {\r\n            // like\r\n            let uArr = [...postData.likes, currentUser.uid];\r\n\r\n            await database.posts.doc(postData.postId).update({\r\n                likes: uArr,\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                like != null ?  <>\r\n                    {like == false ? <FavoriteBorderIcon style={{color: 'white', opacity: '0.7', zIndex: '3'}} onClick={handleLike} /> : <FavoriteIcon style={{color: '#e74c3c', opacity: '0.7', zIndex: '3'}} onClick={handleLike} />}\r\n                </>\r\n                : <></>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Likes;","import React, { useRef, useContext, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport style from './Cards.module.css';\r\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport ReactDOM from 'react-dom';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Comments from './Comments';\r\nimport Likes from './Likes';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    marginLeft: '28.3rem',\r\n    marginTop: '5vh',\r\n    marginBottom: '20vh',\r\n    width: '30%',\r\n    height: '30%',\r\n  },\r\n  media: {\r\n    width: '100%',\r\n  },\r\n  label: {\r\n    position: 'absolute',\r\n    left: '1rem',\r\n    bottom: '2.5rem',\r\n  },\r\n  actionLabel: {\r\n    position: 'absolute',\r\n    right: '0.1rem',\r\n    bottom: '2rem',\r\n  },\r\n  dialog: {\r\n    display: 'flex',\r\n  },\r\n  dialogContainer: {\r\n    height: '73vh',\r\n    width: '52vw',\r\n  },\r\n  commentIcon: {\r\n    position: 'absolute',\r\n    bottom: '-0.28rem',\r\n  }\r\n});\r\n\r\nexport default function Cards({ source, post, name, avatar, currentUserName, currentUserAvatar }) {\r\n  const classes = useStyles();\r\n  const [openId, setOpenId] = React.useState(null);\r\n  const vidRef = useRef(null);\r\n\r\n  const handleMute = (e) => {\r\n    e.preventDefault();\r\n    e.target.muted = !e.target.muted;\r\n  }\r\n\r\n  const handleAutoScroll = (e) => {\r\n    let next = e.target.parentElement.parentElement.parentElement.nextSibling; // Note: referred DOM Tree for this\r\n \r\n    if(next != null)\r\n    {\r\n      next.scrollIntoView({behavior: 'smooth'}); // smooth scrolling to next reel\r\n      e.target.muted = true;\r\n    }\r\n  }\r\n\r\n  const handleClickOpen = (id) => {\r\n    setOpenId(id);\r\n    vidRef.current.pause();\r\n  };\r\n  const handleClose = () => {\r\n    setOpenId(null);\r\n    vidRef.current.play();\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n\r\n      <CardActionArea>\r\n\r\n        <video ref={vidRef} onEnded={handleAutoScroll} className={style.vs} src={source} muted onClick={handleMute} />\r\n\r\n        <div className={classes.label} style={{display: 'flex', borderBottom: '1px gray', alignItems: 'center'}}>\r\n          <Avatar src={avatar} style={{width: '30px', height: '30px'}}/>\r\n          <div style={{marginLeft: '1rem', color: 'white', fontSize: '14px'}}>{name}</div>\r\n        </div>\r\n\r\n        <div className={classes.actionLabel}>\r\n          <Button size=\"small\" color=\"primary\">\r\n            <Likes postData={post} />\r\n\r\n          </Button>\r\n          <Button size=\"small\" color=\"primary\">\r\n            <ChatBubbleOutlineIcon className={classes.commentIcon} style={{color: 'white', opacity: '0.7', zIndex: '3'}} onClick={() => handleClickOpen(post.pId)}/>\r\n          </Button>\r\n\r\n            <Dialog\r\n            open={openId === post.pId}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n            >\r\n              <div className={classes.dialog}>\r\n                <div className={classes.dialogContainer}>\r\n                  <video className={style.vsDialog} autoPlay loop src={post.pUrl} />\r\n                </div>\r\n                <Comments postData={post} name={currentUserName} avatar={currentUserAvatar} />\r\n              </div>\r\n              \r\n          </Dialog>\r\n        </div>\r\n\r\n      </CardActionArea>\r\n\r\n    </Card>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport MovieIcon from '@material-ui/icons/Movie';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport {storage, database} from '../firebase';\r\n\r\nfunction UploadFile(props) {\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const types = ['video/mp4', 'video/webm', 'video/ogg'];\r\n\r\n    const onChange = (e) => {\r\n        const file = e?.target?.files[0];\r\n\r\n        // checks\r\n        if(!file)\r\n        {\r\n            setError('Please select a file!');\r\n            setTimeout(() => setError(null), 2000);\r\n            return;\r\n        }\r\n        if(types.indexOf(file.type) == -1)\r\n        {\r\n            setError('Please select a video file!');\r\n            setTimeout(() => setError(null), 2000);\r\n            return;\r\n        }\r\n        if(file.size / (1024 * 1024) > 100) // file size greater than 100mb!\r\n        {\r\n            setError('The selected file is too big!');\r\n            setTimeout(() => setError(null), 2000);\r\n            return;\r\n        }\r\n\r\n        const id = uuidv4();\r\n        const uploadTask = storage.ref(`/posts/${props.userData.userId}/${file.name}`).put(file);\r\n        uploadTask.on('state_changed', fn1, fn2, fn3);\r\n\r\n        function fn1(snapshot){\r\n            var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            console.log('Upload is ' + progress + '% done');         \r\n        }\r\n\r\n        function fn2(error){\r\n            setError(error);\r\n            setTimeout(()=>{\r\n                setError(null)\r\n            },2000);\r\n            setLoading(false)\r\n        }\r\n\r\n        async function fn3() {\r\n            setLoading(true);\r\n            uploadTask.snapshot.ref.getDownloadURL().then(url => {\r\n                let obj = {\r\n                    comments: [],\r\n                    likes: [],\r\n                    pId: id,\r\n                    pUrl: url, \r\n                    uName: props?.userData?.username,\r\n                    uProfile: props?.userData?.profileUrl,\r\n                    userId: props?.userData?.userId,\r\n                    createdAt: database.getCurrentTimeStamp(),\r\n                }\r\n                database.posts.add(obj).then(async docRef => {\r\n                    let parrId = docRef.id;\r\n                    let res = await database.users.doc(props.userData.userId).update({\r\n                        postIds: [...props.userData.postIds, docRef.id]\r\n                    })\r\n                }).then(() => {\r\n                    setLoading(false);\r\n                }).catch(e => {\r\n                    setError(e);\r\n                    setTimeout(() => setError(null), 2000);\r\n                    setLoading(false);\r\n                });\r\n            });\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <>\r\n        {\r\n            error != null ? <Button disabled variant=\"outlined\" component='span' style={{ marginTop: '5.5rem', marginLeft: '19rem', marginBottom: '1rem' }}\r\n            size='medium' color=\"secondary\" startIcon={ <MovieIcon /> } size=\"small\">\r\n                {error}\r\n            </Button> :\r\n            <>\r\n\r\n            <input \r\n            color='primary'\r\n            type='file'\r\n            id='icon-button-file'\r\n            onChange={onChange}\r\n            style={{display:'none'}}\r\n            />\r\n            <label htmlFor='icon-button-file'>\r\n            <Button disabled={loading} variant=\"outlined\" component='span' style={{ marginTop: '5.5rem', marginLeft: '70rem', marginBottom: '1rem', position: 'absolute'}}\r\n            size='medium' color=\"secondary\" startIcon={ <MovieIcon /> } size=\"small\">\r\n                Upload Reel\r\n            </Button>\r\n\r\n            </label>\r\n\r\n            { loading ? <LinearProgress color='secondary' style={{width: '100%', height: '0.2rem', zIndex: '3', position: 'absolute', top: '4rem'}} /> : <></> }\r\n\r\n            </>\r\n        }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default UploadFile;\r\n\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { database } from '../firebase';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Cards from './Cards';\r\nimport { AuthContext } from '../Context/AuthProvider';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n\r\n    },\r\n    loader: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '47%',\r\n    }\r\n});\r\n\r\nfunction Posts({ userData = null }) {\r\n    const classes = useStyles();\r\n    const [posts, setPosts] = useState(null); // initially we don't have posts, we will get it from collection\r\n    const { currentUser } = useContext(AuthContext); \r\n    const [currentUserName, setCurrentUserName] = useState('');\r\n    const [currentUserAvatar, setCurrentUserAvatar] = useState(null);\r\n\r\n    // callback for our Intersection Observer API\r\n    const callback = (entries) => {\r\n        entries.forEach((element) => {\r\n\r\n            let el = element.target.children[0].children[0].children[0];\r\n\r\n            if(element.isIntersecting == true)\r\n            {\r\n                el.play();\r\n            }\r\n            else el.pause();\r\n        });\r\n    }\r\n\r\n    const observer = new IntersectionObserver(callback, { threshold: 0.85 }); \r\n\r\n    // useEffect Hook 2nd Variation\r\n    useEffect(async () => {\r\n        let parr = [];\r\n        const unsub = database.posts.orderBy('createdAt', 'desc').onSnapshot((querySnapshot) => { // snapshot to detect real-time changes\r\n            parr = []; // to avoid duplicate entries\r\n            querySnapshot.forEach((doc) => {\r\n                let data = {...doc.data(), postId: doc.id};\r\n                parr.push(data);\r\n            });\r\n            setPosts(parr);\r\n        });\r\n\r\n        let userData = await database.users.doc(currentUser.uid).get();\r\n        let obj = userData.data();\r\n        setCurrentUserName(obj.username);\r\n        setCurrentUserAvatar(obj.profileUrl);\r\n\r\n        return unsub; // cleanup listener\r\n    }, []);\r\n\r\n    // we can have multiple useEffects\r\n    useEffect(() => {\r\n\r\n        // here, we attach the Intersection Observer \r\n        let elements = document.querySelectorAll('.video');\r\n        elements.forEach((el) => {\r\n            observer.observe(el);\r\n        });\r\n\r\n        // cleanup, good practice to remove existing listeners\r\n        return () => {\r\n            observer.disconnect();\r\n        }\r\n    }, [posts]);\r\n\r\n    return (\r\n        // JSX code\r\n        <>\r\n            { \r\n                posts == null ? <CircularProgress className={classes.loader} color='secondary' /> : \r\n                <div className='video-container' id='video-container'>\r\n                    {\r\n                        posts.map((post, index) => {\r\n                            return (\r\n                                <React.Fragment key={index}>\r\n                                    <div className='video'>\r\n                                        <Cards source={post.pUrl} post={post} name={post.uName} avatar={post.uProfile} currentUserName={currentUserName} currentUserAvatar={currentUserAvatar} />\r\n                                    </div>\r\n                                </React.Fragment>\r\n                            );\r\n                        })\r\n                    }\r\n                </div>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Posts;","import React, {useContext, useEffect, useState} from 'react';\r\nimport Navbar from './Navbar';\r\nimport Cards from './Cards';\r\nimport { AuthContext } from '../Context/AuthProvider';\r\nimport { database } from '../firebase';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport UploadFile from './UploadFile.js';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport Posts from './Posts';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    root: {\r\n    },\r\n\r\n    progress: {\r\n        marginLeft: '47%',\r\n        marginTop: '15%',\r\n    },\r\n}));\r\n\r\nfunction Main() {\r\n    const classes = useStyles();\r\n    const { currentUser } = useContext(AuthContext);\r\n    const [userData, setUserData] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const unsub = database.users.doc(currentUser.uid).onSnapshot((doc) => {\r\n            setUserData(doc.data());\r\n        });\r\n\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <>\r\n            { userData == null ? <CircularProgress className={classes.progress}/> : \r\n            <>            \r\n\r\n            <Navbar userData={userData} />\r\n\r\n            <div className=\"example\">\r\n                {/* <PerfectScrollbar component=\"div\"> */}\r\n                    <div className='feed-container'>\r\n                        <UploadFile userData={userData} />\r\n                        <Posts userData={userData} />\r\n                        {/* <Cards />\r\n                        <Cards /> */}\r\n                    </div>\r\n                {/* </PerfectScrollbar> */}\r\n            </div>\r\n\r\n            </>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Main; ","import React, { useContext } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { AuthContext } from '../Context/AuthProvider';\r\n\r\nfunction PrivateRoute({ component:Component, ...rest }) {\r\n    const { currentUser } = useContext(AuthContext);\r\n\r\n    return (\r\n        <Route {...rest} render={ props => {\r\n            return currentUser ? <Component {...props} /> : <Redirect to='/login' />\r\n        }} /> // pass props to component on routing\r\n    );\r\n}\r\n\r\nexport default PrivateRoute;","import './App.css';\nimport Signup from './Components/Signup';\nimport Login from './Components/Login';\nimport AuthProvider from './Context/AuthProvider';\nimport Main from './Material-UI/Main';\nimport PrivateRoute from './Components/PrivateRoute';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\n\nfunction App() {\n  return (\n    <Router>\n      <AuthProvider>\n          <Switch>\n            <PrivateRoute exact path='/' component={Main} />\n            <Route path='/login' component={Login} />\n            <Route path='/signup' component={Signup} />\n          </Switch>\n      </AuthProvider>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enlighten\":\"Login_enlighten__1VEkQ\",\"enlighten_animation\":\"Login_enlighten_animation__3ocQj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"vs\":\"Cards_vs__3DEfM\",\"vsDialog\":\"Cards_vsDialog__2U-Hx\"};"],"sourceRoot":""}