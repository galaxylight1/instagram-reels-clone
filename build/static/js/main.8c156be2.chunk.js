(this["webpackJsonpreels-app"]=this["webpackJsonpreels-app"]||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(14),c=a.n(s),o=(a(112),a(113),a(15)),i=a.n(o),l=a(24),u=a(11),m=a(54);a(115),a(130),a(131);m.a.initializeApp({apiKey:"AIzaSyA5YL4WG3KTdCgPB9GYyU47DyEH8qcaU3Q",authDomain:"reels-37681.firebaseapp.com",projectId:"reels-37681",storageBucket:"reels-37681.appspot.com",messagingSenderId:"442429481994",appId:"1:442429481994:web:86426912b2f4320c3fabf3"});var d=m.a.auth(),p=m.a.firestore(),j={users:p.collection("users"),posts:p.collection("posts"),comments:p.collection("comments"),getCurrentTimeStamp:m.a.firestore.FieldValue.serverTimestamp},b=m.a.storage(),g=a(3),f=r.a.createContext();var h=function(e){var t=e.children,a=Object(n.useState)(),r=Object(u.a)(a,2),s=r[0],c=r[1],o=Object(n.useState)(!0),i=Object(u.a)(o,2),l=i[0],m=i[1];Object(n.useEffect)((function(){var e=d.onAuthStateChanged((function(e){c(e),m(!1)}));return function(){e()}}),[]);var p={currentUser:s,login:function(e,t){return d.signInWithEmailAndPassword(e,t)},signup:function(e,t){return d.createUserWithEmailAndPassword(e,t)},logout:function(){return d.signOut()}};return Object(g.jsx)(f.Provider,{value:p,children:!l&&t})},O=a(179),x=a(182),v=a(186),w=a(184),y=a(185),S=a(193),N=Object(O.a)({root:{minWidth:275,width:310,position:"absolute",top:"6.2rem",left:"47rem",padding:"9px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},field:{marginLeft:"2.5rem",marginTop:"0.5rem"},btn:{marginLeft:"5.7rem",marginTop:"2rem"},logo:{marginLeft:"4.9rem",marginBottom:"0.5rem"},fileUpload:{marginLeft:"3.5rem",marginTop:"1.5rem"}});function k(e){var t=e.name,a=e.email,n=e.password,r=e.file,s=e.signup,c=N();c.bullet;return Object(g.jsxs)(x.a,{className:c.root,variant:"outlined",children:[Object(g.jsxs)(w.a,{children:[Object(g.jsx)("img",{className:c.logo,src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png"}),Object(g.jsx)(S.a,{className:c.field,id:"standard-basic",label:"Username",onChange:function(e){return t(e.target.value)}}),Object(g.jsx)(S.a,{className:c.field,id:"standard-basic",label:"Email",onChange:function(e){return a(e.target.value)}}),Object(g.jsx)(S.a,{className:c.field,id:"standard-basic",label:"Password",type:"password",onChange:function(e){return n(e.target.value)}}),Object(g.jsxs)(y.a,{className:c.fileUpload,variant:"contained",color:"secondary",component:"label",children:["Profile Photo",Object(g.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:r})]})]}),Object(g.jsx)(v.a,{children:Object(g.jsx)(y.a,{className:c.btn,variant:"outlined",color:"primary",onClick:s,children:"Sign Up"})})]})}var C=a(53),_=a.n(C),I=a(16),U=0;var L=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(u.a)(s,2),o=c[0],m=c[1],d=Object(n.useState)(""),p=Object(u.a)(d,2),h=p[0],O=p[1],x=Object(n.useState)(""),v=Object(u.a)(x,2),w=(v[0],v[1]),y=Object(n.useState)(!1),S=Object(u.a)(y,2),N=(S[0],S[1]),C=Object(n.useState)(null),L=Object(u.a)(C,2),T=L[0],D=L[1],E=Object(n.useState)(null),B=Object(u.a)(E,2),z=(B[0],B[1]),F=Object(I.g)(),P=Object(n.useContext)(f).signup,R=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,s,c,u,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")},r=function(e){w(e),setTimeout((function(){w("")}),2e3),N(!1)},s=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.snapshot.ref.getDownloadURL();case 2:return t=e.sent,console.log(t),e.next=6,j.users.doc(u).set({email:a,userId:u,username:h,createdAt:j.getCurrentTimeStamp(),profileUrl:t,postIds:[]});case 6:F.push("/");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N(!0),e.next=8,P(a,o);case 8:c=e.sent,u=c.user.uid,(m=b.ref("/users/".concat(u,"/profileImage")).put(T)).on("state_changed",n,r,s),N(!1),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(1),w(e.t0),setTimeout((function(){return w("")}),2e3),N(!1),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){for(var e=document.getElementsByClassName("mySlides"),t=0;t<e.length;t++)e[t].style.display="none",e[t].classList.remove(_.a.enlighten);e[U].style.display="block",e[U].classList.add(_.a.enlighten),++U==e.length&&(U=0)};return Object(n.useEffect)((function(){var e=setInterval(A,4e3);return z(e),function(){clearInterval(e)}}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("img",{style:{marginLeft:"20rem",marginTop:"5rem",height:"70vh"},src:"https://static.wixstatic.com/media/5e9072_d5f413e750dc4d84a1c8650a354ced41~mv2.png/v1/fill/w_314,h_634,al_c,q_85,usm_0.66_1.00_0.01/googlepixel4%20(1).webp"}),Object(g.jsx)("img",{className:"mySlides",style:{position:"absolute",left:"18.5rem",top:"9rem",height:"60vh",borderRadius:"30px",boxShadow:"0px 3px 5px #333"},src:"https://www.instagram.com/static/images/homepage/screenshot5.jpg/0a2d3016f375.jpg"}),Object(g.jsx)("img",{className:"mySlides",style:{position:"absolute",left:"18.5rem",top:"9rem",height:"60vh",borderRadius:"30px",boxShadow:"0px 3px 5px #333"},src:"https://www.instagram.com/static/images/homepage/screenshot4.jpg/842fe5699220.jpg"}),Object(g.jsx)("img",{className:"mySlides",style:{position:"absolute",left:"18.5rem",top:"9rem",height:"60vh",borderRadius:"30px",boxShadow:"0px 3px 5px #333"},src:"https://www.instagram.com/static/images/homepage/screenshot1.jpg/d6bf0c928b5a.jpg"}),Object(g.jsx)(k,{name:O,email:r,password:m,file:function(e){var t=e.target.files[0];console.log(t),null!=t&&D(t)},signup:R})]})},T=Object(O.a)({root:{minWidth:275,width:310,position:"absolute",top:"6.2rem",left:"47rem",padding:"9px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},field:{marginLeft:"2.5rem",marginTop:"0.5rem"},loginBtn:{marginLeft:"3.4rem",marginTop:"2rem"},signUpBtn:{marginLeft:"8.5rem",marginTop:"2rem"},logo:{marginLeft:"4.9rem",marginBottom:"0.5rem"},fileUpload:{marginLeft:"3.5rem",marginTop:"1.5rem"},errorMsg:{fontSize:"10.5px",color:"red",marginLeft:"6.90rem",marginTop:"0.5rem",width:"4.5rem",height:"0.5rem"}});function D(e){var t=e.email,a=e.password,n=e.login,r=e.error,s=T(),c=Object(I.g)();return Object(g.jsxs)(x.a,{className:s.root,variant:"outlined",children:[Object(g.jsxs)(w.a,{children:[Object(g.jsx)("img",{className:s.logo,src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png"}),Object(g.jsx)(S.a,{className:s.field,id:"standard-basic",label:"Email",onChange:function(e){return t(e.target.value)}}),Object(g.jsx)(S.a,{className:s.field,id:"standard-basic",label:"Password",type:"password",onChange:function(e){return a(e.target.value)}})]}),r?Object(g.jsx)("div",{className:s.errorMsg,children:r}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:s.errorMsg})}),Object(g.jsxs)(v.a,{children:[Object(g.jsx)(y.a,{className:s.loginBtn,variant:"outlined",color:"primary",onClick:n,children:"Login"}),Object(g.jsx)(y.a,{className:s.signUpBtn,variant:"contained",color:"secondary",onClick:function(){return c.push("/signup")},children:"Sign Up"})]})]})}var E=0;var B=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(u.a)(s,2),o=c[0],m=c[1],d=Object(n.useState)(""),p=Object(u.a)(d,2),j=(p[0],p[1],Object(n.useState)("")),b=Object(u.a)(j,2),h=b[0],O=b[1],x=Object(n.useState)(!1),v=Object(u.a)(x,2),w=(v[0],v[1]),y=Object(n.useState)(null),S=Object(u.a)(y,2),N=(S[0],S[1]),k=Object(I.g)(),C=Object(n.useContext)(f),U=C.login,L=C.currentUser,T=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,console.log("Logging in user"),w(!0),e.next=6,U(a,o);case 6:w(!1),k.push("/"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),O("Failed to login!"),setTimeout((function(){return O("")}),2e3),w(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){for(var e=document.getElementsByClassName("mySlides"),t=0;t<e.length;t++)e[t].style.display="none",e[t].classList.remove(_.a.enlighten);e[E].style.display="block",e[E].classList.add(_.a.enlighten),++E==e.length&&(E=0)};return Object(n.useEffect)((function(){var e;return L?k.push("/"):(e=setInterval(B,4e3),N(e)),function(){clearInterval(e)}}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("img",{style:{marginLeft:"20rem",marginTop:"5rem",height:"70vh"},src:"https://static.wixstatic.com/media/5e9072_d5f413e750dc4d84a1c8650a354ced41~mv2.png/v1/fill/w_314,h_634,al_c,q_85,usm_0.66_1.00_0.01/googlepixel4%20(1).webp"}),Object(g.jsx)("img",{className:"mySlides",style:{position:"absolute",left:"18.5rem",top:"9rem",height:"60vh",borderRadius:"30px",boxShadow:"0px 3px 5px #333"},src:"https://www.instagram.com/static/images/homepage/screenshot5.jpg/0a2d3016f375.jpg"}),Object(g.jsx)("img",{className:"mySlides",style:{position:"absolute",left:"18.5rem",top:"9rem",height:"60vh",borderRadius:"30px",boxShadow:"0px 3px 5px #333"},src:"https://www.instagram.com/static/images/homepage/screenshot4.jpg/842fe5699220.jpg"}),Object(g.jsx)("img",{className:"mySlides",style:{position:"absolute",left:"18.5rem",top:"9rem",height:"60vh",borderRadius:"30px",boxShadow:"0px 3px 5px #333"},src:"https://www.instagram.com/static/images/homepage/screenshot1.jpg/d6bf0c928b5a.jpg"}),Object(g.jsx)(D,{email:r,password:m,login:T,error:h})]})},z=a(187),F=a(188),P=a(189),R=a(197),A=a(96),W=Object(O.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{marginRight:"84vw"},appb:{backgroundColor:"white"},icon:{width:"35px",height:"35px",borderRadius:"50%"}}}));function M(e){var t=e.userData,a=W(),s=Object(I.g)(),c=r.a.useState(null),o=Object(u.a)(c,2),i=o[0],l=o[1],m=Boolean(i),d=Object(n.useContext)(f).logout,p=function(){l(null)};return Object(g.jsx)("div",{className:a.root,children:Object(g.jsx)(z.a,{className:a.appb,position:"fixed",children:Object(g.jsxs)(F.a,{children:[Object(g.jsx)("img",{className:a.title,src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png"}),Object(g.jsxs)("div",{children:[Object(g.jsx)(P.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},color:"inherit",children:Object(g.jsx)("img",{className:a.icon,src:t.profileUrl})}),Object(g.jsxs)(A.a,{id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:p,children:[Object(g.jsx)(R.a,{onClick:p,children:"Profile"}),Object(g.jsx)(R.a,{onClick:function(){d(),s.push("/login")},children:"Logout"})]})]})]})})})}var q=a(191),G=a(79),Q=a.n(G),V=a(95),H=a.n(V),J=a(198),K=a(196),Y=a(49),X=a(190),Z=Object(O.a)({root:{},box:{height:"73vh",width:"60vw",padding:"12px"},textField:{position:"absolute",top:"24rem",left:"18rem",width:"35%"},btn:{position:"absolute",top:"25rem",left:"32rem"},progress:{marginLeft:"8rem",marginTop:"2rem"},commentDiv:{display:"flex",alignItems:"center"},avatar:{width:"25px",height:"25px"},likeCount:{position:"absolute",top:"23rem",left:"18rem",fontSize:"15px",fontWeight:"500"}});var $=function(e){var t=e.postData,a=e.name,r=e.avatar,s=Z(),c=Object(n.useState)(""),o=Object(u.a)(c,2),m=o[0],d=o[1],p=Object(n.useState)(null),b=Object(u.a)(p,2),f=b[0],h=b[1];return Object(n.useEffect)(Object(l.a)(i.a.mark((function e(){var a,n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0;case 2:if(!(n<t.comments.length)){e.next=11;break}return r=t.comments[n],e.next=6,j.comments.doc(r).get();case 6:s=e.sent,a.push(s.data());case 8:n++,e.next=2;break;case 11:h(a);case 12:case"end":return e.stop()}}),e)}))),[t]),Object(g.jsxs)("div",{className:s.box,children:[Object(g.jsx)("div",{className:s.commentsSection,children:null==f?Object(g.jsx)(X.a,{className:s.progress}):f.map((function(e,t){return e?Object(g.jsxs)("div",{className:s.commentDiv,children:[Object(g.jsx)(J.a,{className:s.avatar,src:e.uUrl}),Object(g.jsxs)("p",{style:{fontSize:"12px",marginLeft:"3%"},children:[Object(g.jsx)("span",{style:{fontWeight:"bold"},children:e.uName}),"\xa0\xa0",e.text]})]},t):Object(g.jsx)(g.Fragment,{})}))}),Object(g.jsxs)("div",{className:s.likeCount,children:["Liked by ",t.likes.length]}),Object(g.jsx)(S.a,{fullWidth:!0,label:"Leave a comment",onChange:function(e){var t=e.target.value;d(t)},className:s.textField}),Object(g.jsx)(y.a,{onClick:function(){var e={text:m,uName:a,uUrl:r};j.comments.add(e).then((function(e){j.posts.doc(t.postId).update({comments:[].concat(Object(Y.a)(t.comments),[e.id])})})).catch((function(e){console.log(e)})),d("")},disabled:""==m,className:s.btn,color:"primary",children:"Post"})]})},ee=a(94),te=a.n(ee),ae=a(93),ne=a.n(ae);var re=function(e){var t=e.postData,a=Object(n.useState)(null),r=Object(u.a)(a,2),s=r[0],c=r[1],o=Object(n.useContext)(f).currentUser;Object(n.useEffect)((function(){var e=!!t.likes.includes(null===o||void 0===o?void 0:o.uid);c(e)}),[t]);var m=function(){var e=Object(l.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=s){e.next=6;break}return a=t.likes.filter((function(e){return e!=o.uid})),e.next=4,j.posts.doc(t.postId).update({likes:a});case 4:e.next=9;break;case 6:return n=[].concat(Object(Y.a)(t.likes),[o.uid]),e.next=9,j.posts.doc(t.postId).update({likes:n});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{children:null!=s?Object(g.jsx)(g.Fragment,{children:0==s?Object(g.jsx)(ne.a,{style:{color:"white",opacity:"0.7",zIndex:"3"},onClick:m}):Object(g.jsx)(te.a,{style:{color:"#e74c3c",opacity:"0.7",zIndex:"3"},onClick:m})}):Object(g.jsx)(g.Fragment,{})})},se=Object(O.a)({root:{marginLeft:"28.3rem",marginTop:"5vh",marginBottom:"20vh",width:"30%",height:"30%"},media:{width:"100%"},label:{position:"absolute",left:"1rem",bottom:"2.5rem"},actionLabel:{position:"absolute",right:"0.1rem",bottom:"2rem"},dialog:{display:"flex"},dialogContainer:{height:"73vh",width:"52vw"},commentIcon:{position:"absolute",bottom:"-0.28rem"}});function ce(e){var t=e.source,a=e.post,s=e.name,c=e.avatar,o=e.currentUserName,i=e.currentUserAvatar,l=se(),m=r.a.useState(null),d=Object(u.a)(m,2),p=d[0],j=d[1],b=Object(n.useRef)(null);return Object(g.jsx)(x.a,{className:l.root,children:Object(g.jsxs)(q.a,{children:[Object(g.jsx)("video",{ref:b,onEnded:function(e){var t=e.target.parentElement.parentElement.parentElement.nextSibling;null!=t&&(t.scrollIntoView({behavior:"smooth"}),e.target.muted=!0)},className:Q.a.vs,src:t,muted:!0,onClick:function(e){e.preventDefault(),e.target.muted=!e.target.muted}}),Object(g.jsxs)("div",{className:l.label,style:{display:"flex",borderBottom:"1px gray",alignItems:"center"},children:[Object(g.jsx)(J.a,{src:c,style:{width:"30px",height:"30px"}}),Object(g.jsx)("div",{style:{marginLeft:"1rem",color:"white",fontSize:"14px"},children:s})]}),Object(g.jsxs)("div",{className:l.actionLabel,children:[Object(g.jsx)(y.a,{size:"small",color:"primary",children:Object(g.jsx)(re,{postData:a})}),Object(g.jsx)(y.a,{size:"small",color:"primary",children:Object(g.jsx)(H.a,{className:l.commentIcon,style:{color:"white",opacity:"0.7",zIndex:"3"},onClick:function(){return e=a.pId,j(e),void b.current.pause();var e}})}),Object(g.jsx)(K.a,{open:p===a.pId,onClose:function(){j(null),b.current.play()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:Object(g.jsxs)("div",{className:l.dialog,children:[Object(g.jsx)("div",{className:l.dialogContainer,children:Object(g.jsx)("video",{className:Q.a.vsDialog,autoPlay:!0,loop:!0,src:a.pUrl})}),Object(g.jsx)($,{postData:a,name:o,avatar:i})]})})]})]})})}var oe=a(42),ie=a(80),le=a.n(ie),ue=a(192),me=a(195);var de=function(e){var t,a,r=Object(n.useState)(!1),s=Object(u.a)(r,2),c=s[0],o=s[1],m=Object(n.useState)(null),d=Object(u.a)(m,2),p=d[0],f=d[1],h=["video/mp4","video/webm","video/ogg"];return Object(g.jsx)(g.Fragment,{children:null!=p?Object(g.jsx)(y.a,(t={disabled:!0,variant:"outlined",component:"span",style:{marginTop:"5.5rem",marginLeft:"19rem",marginBottom:"1rem"},size:"medium",color:"secondary",startIcon:Object(g.jsx)(le.a,{})},Object(oe.a)(t,"size","small"),Object(oe.a)(t,"children",p),t)):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("input",{color:"primary",type:"file",id:"icon-button-file",onChange:function(t){var a,n=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.files[0];if(!n)return f("Please select a file!"),void setTimeout((function(){return f(null)}),2e3);if(-1==h.indexOf(n.type))return f("Please select a video file!"),void setTimeout((function(){return f(null)}),2e3);if(n.size/1048576>100)return f("The selected file is too big!"),void setTimeout((function(){return f(null)}),2e3);var r=Object(me.a)(),s=b.ref("/posts/".concat(e.userData.userId,"/").concat(n.name)).put(n);function c(){return(c=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o(!0),s.snapshot.ref.getDownloadURL().then((function(t){var a,n,s,c={comments:[],likes:[],pId:r,pUrl:t,uName:null===e||void 0===e||null===(a=e.userData)||void 0===a?void 0:a.username,uProfile:null===e||void 0===e||null===(n=e.userData)||void 0===n?void 0:n.profileUrl,userId:null===e||void 0===e||null===(s=e.userData)||void 0===s?void 0:s.userId,createdAt:j.getCurrentTimeStamp()};j.posts.add(c).then(function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.id,t.next=3,j.users.doc(e.userData.userId).update({postIds:[].concat(Object(Y.a)(e.userData.postIds),[a.id])});case 3:t.sent;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(){o(!1)})).catch((function(e){f(e),setTimeout((function(){return f(null)}),2e3),o(!1)}))}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}s.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(function(e){f(e),setTimeout((function(){f(null)}),2e3),o(!1)}),(function(){return c.apply(this,arguments)}))},style:{display:"none"}}),Object(g.jsx)("label",{htmlFor:"icon-button-file",children:Object(g.jsx)(y.a,(a={disabled:c,variant:"outlined",component:"span",style:{marginTop:"5.5rem",marginLeft:"70rem",marginBottom:"1rem",position:"absolute"},size:"medium",color:"secondary",startIcon:Object(g.jsx)(le.a,{})},Object(oe.a)(a,"size","small"),Object(oe.a)(a,"children","Upload Reel"),a))}),c?Object(g.jsx)(ue.a,{color:"secondary",style:{width:"100%",height:"0.2rem",zIndex:"3",position:"absolute",top:"4rem"}}):Object(g.jsx)(g.Fragment,{})]})})},pe=(a(124),a(125),a(43)),je=Object(O.a)({root:{},loader:{position:"absolute",top:"50%",left:"47%"}});var be=function(e){e.userData;var t=je(),a=Object(n.useState)(null),s=Object(u.a)(a,2),c=s[0],o=s[1],m=Object(n.useContext)(f).currentUser,d=Object(n.useState)(""),p=Object(u.a)(d,2),b=p[0],h=p[1],O=Object(n.useState)(null),x=Object(u.a)(O,2),v=x[0],w=x[1],y=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.target.children[0].children[0].children[0];1==e.isIntersecting?t.play():t.pause()}))}),{threshold:.85});return Object(n.useEffect)(Object(l.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=j.posts.orderBy("createdAt","desc").onSnapshot((function(e){t=[],e.forEach((function(e){var a=Object(pe.a)(Object(pe.a)({},e.data()),{},{postId:e.id});t.push(a)})),o(t)})),e.next=4,j.users.doc(m.uid).get();case 4:return n=e.sent,r=n.data(),h(r.username),w(r.profileUrl),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)}))),[]),Object(n.useEffect)((function(){return document.querySelectorAll(".video").forEach((function(e){y.observe(e)})),function(){y.disconnect()}}),[c]),Object(g.jsx)(g.Fragment,{children:null==c?Object(g.jsx)(X.a,{className:t.loader,color:"secondary"}):Object(g.jsx)("div",{className:"video-container",id:"video-container",children:c.map((function(e,t){return Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)("div",{className:"video",children:Object(g.jsx)(ce,{source:e.pUrl,post:e,name:e.uName,avatar:e.uProfile,currentUserName:b,currentUserAvatar:v})})},t)}))})})},ge=Object(O.a)((function(){return{root:{},progress:{marginLeft:"47%",marginTop:"15%"}}}));var fe=function(){var e=ge(),t=Object(n.useContext)(f).currentUser,a=Object(n.useState)(null),r=Object(u.a)(a,2),s=r[0],c=r[1];return Object(n.useEffect)((function(){j.users.doc(t.uid).onSnapshot((function(e){c(e.data())}))}),[t]),Object(g.jsx)(g.Fragment,{children:null==s?Object(g.jsx)(X.a,{className:e.progress}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(M,{userData:s}),Object(g.jsx)("div",{className:"example",children:Object(g.jsxs)("div",{className:"feed-container",children:[Object(g.jsx)(de,{userData:s}),Object(g.jsx)(be,{userData:s})]})})]})})},he=a(97),Oe=["component"];var xe=function(e){var t=e.component,a=Object(he.a)(e,Oe),r=Object(n.useContext)(f).currentUser;return Object(g.jsx)(I.b,Object(pe.a)(Object(pe.a)({},a),{},{render:function(e){return r?Object(g.jsx)(t,Object(pe.a)({},e)):Object(g.jsx)(I.a,{to:"/login"})}}))},ve=a(39);var we=function(){return Object(g.jsx)(ve.a,{children:Object(g.jsx)(h,{children:Object(g.jsxs)(I.d,{children:[Object(g.jsx)(xe,{exact:!0,path:"/",component:fe}),Object(g.jsx)(I.b,{path:"/login",component:B}),Object(g.jsx)(I.b,{path:"/signup",component:L})]})})})};c.a.render(Object(g.jsx)(we,{}),document.getElementById("root"))},53:function(e,t,a){e.exports={enlighten:"Login_enlighten__1VEkQ",enlighten_animation:"Login_enlighten_animation__3ocQj"}},79:function(e,t,a){e.exports={vs:"Cards_vs__3DEfM",vsDialog:"Cards_vsDialog__2U-Hx"}}},[[128,1,2]]]);
//# sourceMappingURL=main.8c156be2.chunk.js.map